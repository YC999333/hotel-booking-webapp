[{"D:\\Web\\hotel booking\\client\\src\\index.js":"1","D:\\Web\\hotel booking\\client\\src\\App.js":"2","D:\\Web\\hotel booking\\client\\src\\Search.js":"3","D:\\Web\\hotel booking\\client\\src\\SearchNearBy.js":"4","D:\\Web\\hotel booking\\client\\src\\Footer.js":"5","D:\\Web\\hotel booking\\client\\src\\Home.js":"6","D:\\Web\\hotel booking\\client\\src\\Header.js":"7","D:\\Web\\hotel booking\\client\\src\\auth\\SignInForm.js":"8","D:\\Web\\hotel booking\\client\\src\\auth\\SignUpForm.js":"9","D:\\Web\\hotel booking\\client\\src\\admin\\Admin.js":"10","D:\\Web\\hotel booking\\client\\src\\SearchAll.js":"11","D:\\Web\\hotel booking\\client\\src\\admin\\Edit.js":"12","D:\\Web\\hotel booking\\client\\src\\SearchResult.js":"13","D:\\Web\\hotel booking\\client\\src\\Card.js":"14","D:\\Web\\hotel booking\\client\\src\\Banner.js":"15","D:\\Web\\hotel booking\\client\\src\\SearchDate.js":"16","D:\\Web\\hotel booking\\client\\src\\SearchCard.js":"17","D:\\Web\\hotel booking\\client\\src\\Orders.js":"18"},{"size":219,"mtime":1611805598483,"results":"19","hashOfConfig":"20"},{"size":1405,"mtime":1615277483532,"results":"21","hashOfConfig":"20"},{"size":971,"mtime":1615275753146,"results":"22","hashOfConfig":"20"},{"size":1735,"mtime":1615682337248,"results":"23","hashOfConfig":"20"},{"size":247,"mtime":1611902861476,"results":"24","hashOfConfig":"20"},{"size":3447,"mtime":1615679144924,"results":"25","hashOfConfig":"20"},{"size":10418,"mtime":1615682143349,"results":"26","hashOfConfig":"20"},{"size":5243,"mtime":1615699459134,"results":"27","hashOfConfig":"20"},{"size":5319,"mtime":1615682085910,"results":"28","hashOfConfig":"20"},{"size":6589,"mtime":1615681522621,"results":"29","hashOfConfig":"20"},{"size":1628,"mtime":1615682291278,"results":"30","hashOfConfig":"20"},{"size":8566,"mtime":1615681565711,"results":"31","hashOfConfig":"20"},{"size":2003,"mtime":1615682352587,"results":"32","hashOfConfig":"20"},{"size":1117,"mtime":1615261514607,"results":"33","hashOfConfig":"20"},{"size":766,"mtime":1615261485277,"results":"34","hashOfConfig":"20"},{"size":4982,"mtime":1615682324710,"results":"35","hashOfConfig":"20"},{"size":3418,"mtime":1615682301327,"results":"36","hashOfConfig":"20"},{"size":3467,"mtime":1615698949444,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"y8kfdr",{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"40"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"40"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"40"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"40"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"40"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"40"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"40"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"40"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"40"},"D:\\Web\\hotel booking\\client\\src\\index.js",[],["84","85"],"D:\\Web\\hotel booking\\client\\src\\App.js",[],"D:\\Web\\hotel booking\\client\\src\\Search.js",["86"],"import React, { useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport './Search.css';\r\nimport { Button } from '@material-ui/core';\r\nimport SearchResult from './SearchResult';\r\nimport axios from 'axios';\r\naxios.defaults.withCredentials = true;\r\n\r\nfunction Search(props) {\r\n  let location = useLocation();\r\n  const hotels = location.state;\r\n\r\n  return (\r\n    <div className='searchPage'>\r\n      <div className='searchPage__info'>\r\n        <p>62 stays 路 26 august to 30 august 路 2 guest</p>\r\n        <Button variant='outlined'>Cancellation Flexibility</Button>\r\n        <Button variant='outlined'>Type of place</Button>\r\n        <Button variant='outlined'>Price</Button>\r\n        <Button variant='outlined'>Rooms and beds</Button>\r\n        <Button variant='outlined'>More filters</Button>\r\n      </div>\r\n\r\n      {hotels.map((hotel) => {\r\n        return <SearchResult hotel={hotel} />;\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","D:\\Web\\hotel booking\\client\\src\\SearchNearBy.js",["87"],"import React, { useState, useEffect } from 'react';\r\nimport './SearchNearBy.css';\r\nimport { Button } from '@material-ui/core';\r\nimport SearchResult from './SearchResult';\r\nimport axios from 'axios';\r\naxios.defaults.withCredentials = true;\r\n\r\nfunction SearchNearBy() {\r\n  const [serverErrors, setServerErrors] = useState('');\r\n  const [hotels, setHotels] = useState([]);\r\n\r\n  const searchNear = async () => {\r\n    let formData = JSON.stringify({ location: 'taiwan' });\r\n    try {\r\n      const response = await axios(\r\n        'https://hotel-booking-webapp.herokuapp.com/search/nearby',\r\n        {\r\n          headers: { 'content-type': 'application/json' },\r\n          data: formData,\r\n          method: 'POST',\r\n        }\r\n      );\r\n\r\n      setHotels(response.data.hotel);\r\n    } catch (error) {\r\n      if (error.response) {\r\n        setServerErrors(error.response.data.message);\r\n        console.log(serverErrors);\r\n      } else {\r\n        console.log('Error', error.message);\r\n      }\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    searchNear();\r\n  }, []);\r\n\r\n  return (\r\n    <div className='searchPage'>\r\n      <div className='searchPage__info'>\r\n        <p>62 stays 路 26 august to 30 august 路 2 guest</p>\r\n        <h1>Stays nearby</h1>\r\n        <Button variant='outlined'>Cancellation Flexibility</Button>\r\n        <Button variant='outlined'>Type of place</Button>\r\n        <Button variant='outlined'>Price</Button>\r\n        <Button variant='outlined'>Rooms and beds</Button>\r\n        <Button variant='outlined'>More filters</Button>\r\n      </div>\r\n      {hotels.map((hotel) => {\r\n        return <SearchResult key={hotel._id} hotel={hotel} />;\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchNearBy;\r\n","D:\\Web\\hotel booking\\client\\src\\Footer.js",[],"D:\\Web\\hotel booking\\client\\src\\Home.js",[],"D:\\Web\\hotel booking\\client\\src\\Header.js",["88"],"import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { useForm } from 'react-hook-form';\r\nimport { fade, makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport Link from '@material-ui/core/Link';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\n\r\nimport axios from 'axios';\r\naxios.defaults.withCredentials = true;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginLeft: theme.spacing(2),\r\n    },\r\n  },\r\n  abRoot: {\r\n    backgroundColor: 'white',\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    display: 'none',\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('md')]: {\r\n      width: '20ch',\r\n    },\r\n  },\r\n  sectionDesktop: {\r\n    display: 'none',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'flex',\r\n    },\r\n  },\r\n  sectionMobile: {\r\n    display: 'flex',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n}));\r\n\r\nfunction Header(props) {\r\n  let location = useLocation();\r\n  const authStatus = location.state || '';\r\n  const userAuthState = authStatus.userAuthState;\r\n  const adminAuthState = authStatus.adminAuthState;\r\n\r\n  const [serverErrors, setServerErrors] = useState('');\r\n  const [userAuth, setUserAuth] = useState(false);\r\n  const [adminAuth, setAdminAuth] = useState(false);\r\n  const navigate = useNavigate();\r\n  const { register, handleSubmit } = useForm();\r\n  const checkAuth = async () => {\r\n    try {\r\n      const response = await axios(\r\n        'https://hotel-booking-webapp.herokuapp.com/auth/check-user',\r\n        {\r\n          headers: { 'content-type': 'application/json' },\r\n          method: 'GET',\r\n        }\r\n      );\r\n\r\n      if (response.data.userAuth) {\r\n        setUserAuth(true);\r\n      } else {\r\n        setUserAuth(false);\r\n      }\r\n\r\n      if (response.data.adminAuth) {\r\n        setAdminAuth(true);\r\n      } else {\r\n        setAdminAuth(false);\r\n      }\r\n    } catch (error) {\r\n      if (error.response) {\r\n        setServerErrors(error.response.data.message);\r\n        alert('Please sign in!');\r\n      } else {\r\n        console.log('Error', error.message);\r\n      }\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const goHome = () => {\r\n    navigate('/');\r\n  };\r\n\r\n  useEffect(() => {\r\n    checkAuth();\r\n    const interval = setInterval(() => {\r\n      checkAuth();\r\n    }, 7200000);\r\n    return () => clearInterval(interval);\r\n  }, [userAuthState, adminAuthState]);\r\n\r\n  const classes = useStyles();\r\n  const [anchor1El, setAnchor1El] = React.useState(null);\r\n  const [anchor2El, setAnchor2El] = React.useState(null);\r\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\r\n\r\n  const isLeftMenuOpen = Boolean(anchor1El);\r\n  const isRightMenuOpen = Boolean(anchor2El);\r\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n  const handleProfileMenuOpen = (event) => {\r\n    setAnchor2El(event.currentTarget);\r\n  };\r\n\r\n  const handleLeftMenuOpen = (event) => {\r\n    setAnchor1El(event.currentTarget);\r\n  };\r\n\r\n  const handleMobileMenuClose = () => {\r\n    setMobileMoreAnchorEl(null);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchor1El(null);\r\n    setAnchor2El(null);\r\n    handleMobileMenuClose();\r\n  };\r\n\r\n  const handleMobileMenuOpen = (event) => {\r\n    setMobileMoreAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    let formData = JSON.stringify({\r\n      search: data.search,\r\n    });\r\n\r\n    try {\r\n      const response = await axios(\r\n        'https://hotel-booking-webapp.herokuapp.com/search',\r\n        {\r\n          headers: { 'content-type': 'application/json' },\r\n          method: 'POST',\r\n          data: formData,\r\n        }\r\n      );\r\n      let hotel = response.data.hotel;\r\n\r\n      if (hotel) {\r\n        navigate('/search-hotel', { state: hotel });\r\n      }\r\n    } catch (error) {\r\n      if (error.response) {\r\n        console.log(error.response.data);\r\n        setServerErrors(error.response.data.message);\r\n      } else {\r\n        console.log('Error', error.message);\r\n      }\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const logout = async () => {\r\n    try {\r\n      const response = await axios(\r\n        'https://hotel-booking-webapp.herokuapp.com/auth/signout',\r\n        {\r\n          headers: { 'content-type': 'application/json' },\r\n          method: 'GET',\r\n        }\r\n      );\r\n\r\n      if (response.data) {\r\n        window.location.reload();\r\n        navigate('/');\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const menuId = 'primary-search-account-menu';\r\n\r\n  const renderLeftMenu = (\r\n    <Menu\r\n      anchorEl={anchor1El}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={menuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isLeftMenuOpen}\r\n      onClose={handleMenuClose}\r\n    >\r\n      <MenuItem onClick={goHome}>Home</MenuItem>\r\n      <MenuItem onClick={() => navigate('/search-all')}>\r\n        Find All Stays\r\n      </MenuItem>\r\n      {userAuth || userAuthState ? (\r\n        <MenuItem onClick={() => navigate('/orders')}>My Orders</MenuItem>\r\n      ) : null}\r\n    </Menu>\r\n  );\r\n\r\n  const renderRightMenu = (\r\n    <Menu\r\n      anchorEl={anchor2El}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={menuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isRightMenuOpen}\r\n      onClose={handleMenuClose}\r\n    >\r\n      {adminAuth || adminAuthState ? (\r\n        <MenuItem onClick={() => navigate('/admin')}>Add</MenuItem>\r\n      ) : null}\r\n      {userAuth || adminAuth || userAuthState || adminAuthState ? null : (\r\n        <MenuItem onClick={() => navigate('/signin')}>Sign in</MenuItem>\r\n      )}\r\n      {userAuth || adminAuth || userAuthState || adminAuthState ? (\r\n        <MenuItem onClick={logout}>Sign out</MenuItem>\r\n      ) : null}\r\n      <MenuItem onClick={() => navigate('/signup')}>Sign up</MenuItem>\r\n    </Menu>\r\n  );\r\n\r\n  const mobileMenuId = 'primary-search-account-menu-mobile';\r\n  const renderMobileMenu = (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={mobileMenuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMobileMenuOpen}\r\n      onClose={handleMobileMenuClose}\r\n    >\r\n      <MenuItem onClick={handleProfileMenuOpen}>\r\n        <IconButton\r\n          aria-label='account of current user'\r\n          aria-controls='primary-search-account-menu'\r\n          aria-haspopup='true'\r\n          color='inherit'\r\n        >\r\n          <AccountCircle />\r\n        </IconButton>\r\n      </MenuItem>\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <div className={classes.grow}>\r\n      <AppBar\r\n        position='static'\r\n        classes={{\r\n          root: classes.abRoot,\r\n        }}\r\n      >\r\n        <Toolbar style={{ color: '#000000' }}>\r\n          <MenuIcon\r\n            onClick={handleLeftMenuOpen}\r\n            style={{ marginRight: '50px' }}\r\n          />\r\n          {renderLeftMenu}\r\n          <Typography\r\n            className={classes.title}\r\n            variant='h6'\r\n            noWrap\r\n            style={{ color: '#000000' }}\r\n          >\r\n            <Link onClick={goHome} style={{ color: '#000000' }}>\r\n              My Stays\r\n            </Link>\r\n          </Typography>\r\n          <div className={classes.search}>\r\n            <div className={classes.searchIcon}>\r\n              <SearchIcon />\r\n            </div>\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n              <InputBase\r\n                type='text'\r\n                name='search'\r\n                placeholder='Enter location...'\r\n                classes={{\r\n                  root: classes.inputRoot,\r\n                  input: classes.inputInput,\r\n                }}\r\n                inputRef={register({ required: true })}\r\n              />\r\n            </form>\r\n          </div>\r\n          <div className={classes.grow} />\r\n          <div className={classes.sectionDesktop}>\r\n            <IconButton\r\n              edge='end'\r\n              aria-label='account of current user'\r\n              aria-controls={menuId}\r\n              aria-haspopup='true'\r\n              onClick={handleProfileMenuOpen}\r\n              color='inherit'\r\n            >\r\n              <AccountCircle />\r\n            </IconButton>\r\n          </div>\r\n          <div className={classes.sectionMobile}>\r\n            <IconButton\r\n              aria-label='show more'\r\n              aria-controls={mobileMenuId}\r\n              aria-haspopup='true'\r\n              onClick={handleMobileMenuOpen}\r\n              color='inherit'\r\n            >\r\n              <MoreIcon />\r\n            </IconButton>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      {renderMobileMenu}\r\n      {renderRightMenu}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","D:\\Web\\hotel booking\\client\\src\\auth\\SignInForm.js",[],"D:\\Web\\hotel booking\\client\\src\\auth\\SignUpForm.js",[],"D:\\Web\\hotel booking\\client\\src\\admin\\Admin.js",[],"D:\\Web\\hotel booking\\client\\src\\SearchAll.js",["89"],"import React, { useState } from 'react';\r\nimport './SearchNearBy.css';\r\nimport { Button } from '@material-ui/core';\r\nimport SearchResult from './SearchResult';\r\nimport axios from 'axios';\r\naxios.defaults.withCredentials = true;\r\n\r\nfunction SearchAll() {\r\n  const [serverErrors, setServerErrors] = useState('');\r\n  const [hotels, setHotels] = useState([]);\r\n\r\n  const searchAll = async () => {\r\n    try {\r\n      const response = await axios(\r\n        'https://hotel-booking-webapp.herokuapp.com/search/all',\r\n        {\r\n          headers: { 'content-type': 'application/json' },\r\n          method: 'GET',\r\n        }\r\n      );\r\n\r\n      setHotels(response.data.hotels);\r\n    } catch (error) {\r\n      if (error.response) {\r\n        setServerErrors(error.response.data.message);\r\n        console.log(serverErrors);\r\n      } else {\r\n        console.log('Error', error.message);\r\n      }\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    searchAll();\r\n  }, []);\r\n\r\n  return (\r\n    <div className='searchPage'>\r\n      <div className='searchPage__info'>\r\n        <p>62 stays 路 26 august to 30 august 路 2 guest</p>\r\n        <h1>Find all</h1>\r\n        <Button variant='outlined'>Cancellation Flexibility</Button>\r\n        <Button variant='outlined'>Type of place</Button>\r\n        <Button variant='outlined'>Price</Button>\r\n        <Button variant='outlined'>Rooms and beds</Button>\r\n        <Button variant='outlined'>More filters</Button>\r\n      </div>\r\n      {hotels.map((hotel) => {\r\n        return <SearchResult key={hotel._id} hotel={hotel} />;\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchAll;\r\n","D:\\Web\\hotel booking\\client\\src\\admin\\Edit.js",["90"],"import React, { useState, useEffect } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport './Edit.css';\r\nimport axios from 'axios';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(10),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Edit() {\r\n  const { hotelId } = useParams();\r\n  const [serverErrors, setServerErrors] = useState('');\r\n  const [hotelTitle, setHotelTitle] = useState('');\r\n  const [hotelLocation, setHotelLocation] = useState('');\r\n  const [hotelImageUrl, setHotelImageUrl] = useState('');\r\n  const [hotelPrice, setHotelPrice] = useState('');\r\n  const [hotelDescription, setHotelDescription] = useState('');\r\n  const navigate = useNavigate();\r\n  const classes = useStyles();\r\n  const { register, handleSubmit, setValue, errors } = useForm();\r\n\r\n  useEffect(() => {\r\n    const getHotelInfo = async () => {\r\n      try {\r\n        const response = await axios(\r\n          `http://localhost:5000/admin/edit/${hotelId}`,\r\n          {\r\n            headers: { 'content-type': 'application/json' },\r\n            method: 'GET',\r\n          }\r\n        );\r\n\r\n        const hotelInfo = response.data.hotelInfo;\r\n        console.log(hotelInfo);\r\n\r\n        setHotelTitle(hotelInfo.title);\r\n        setHotelLocation(hotelInfo.location);\r\n        setHotelImageUrl(hotelInfo.imageUrl);\r\n        setHotelPrice(hotelInfo.price);\r\n        setHotelDescription(hotelInfo.description);\r\n      } catch (error) {\r\n        if (error.response) {\r\n          console.log(error.response.data);\r\n          setServerErrors(error.response.data.message);\r\n        } else {\r\n          console.log('Error', error.message);\r\n        }\r\n        console.log(error);\r\n      }\r\n    };\r\n    getHotelInfo();\r\n  }, []);\r\n\r\n  const onClick = () => {\r\n    setValue('title', hotelTitle);\r\n    setValue('location', hotelLocation);\r\n    setValue('imageUrl', hotelImageUrl);\r\n    setValue('price', hotelPrice);\r\n    setValue('description', hotelDescription);\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    setServerErrors('');\r\n\r\n    let formData = JSON.stringify({\r\n      title: data.title,\r\n      location: data.location,\r\n      imageUrl: data.imageUrl,\r\n      price: data.price,\r\n      description: data.description,\r\n      hotelId: data.hotelId,\r\n    });\r\n\r\n    try {\r\n      const response = await axios(\r\n        `https://hotel-booking-webapp.herokuapp.com/admin/edit/${hotelId}`,\r\n        {\r\n          headers: { 'content-type': 'application/json' },\r\n          data: formData,\r\n          method: 'PUT',\r\n        }\r\n      );\r\n\r\n      if (response.status === 200 || response.status === 201) {\r\n        navigate('/');\r\n      } else {\r\n        window.location.reload();\r\n      }\r\n    } catch (error) {\r\n      if (error.response) {\r\n        console.log(error.response.data);\r\n        setServerErrors(error.response.data.message);\r\n      } else {\r\n        console.log('Error', error.message);\r\n      }\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container component='main' maxWidth='xs'>\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Typography component='h1' variant='h5'>\r\n          Edit Hotel Info\r\n        </Typography>\r\n        {serverErrors && <p className='serverErrorMSG'>{serverErrors}</p>}\r\n\r\n        <form\r\n          onSubmit={handleSubmit(onSubmit)}\r\n          className={classes.form}\r\n          noValidate\r\n        >\r\n          <Grid container spacing={1}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                autoComplete='title'\r\n                name='title'\r\n                variant='outlined'\r\n                required\r\n                inputRef={register({ required: true, minLength: 2 })}\r\n                fullWidth\r\n                id='title'\r\n                label='Title'\r\n                autoFocus\r\n                onClick={onClick()}\r\n              />\r\n              {errors.title && errors.title.type === 'required' && (\r\n                <p className='admin_error'>Required!</p>\r\n              )}\r\n              {errors.title && errors.title.type === 'minLength' && (\r\n                <p className='admin_error'>Minimum length: 2.</p>\r\n              )}\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant='outlined'\r\n                required\r\n                fullWidth\r\n                inputRef={register({ required: true })}\r\n                id='location'\r\n                label='Location'\r\n                name='location'\r\n                autoComplete='location'\r\n                onClick={onClick()}\r\n              />\r\n              {errors.location && errors.location.type === 'required' && (\r\n                <p className='admin_error'>Required!</p>\r\n              )}\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant='outlined'\r\n                required\r\n                inputRef={register({ required: true, minLength: 5 })}\r\n                fullWidth\r\n                name='imageUrl'\r\n                label='imageUrl'\r\n                type='imageUrl'\r\n                id='imageUrl'\r\n                autoComplete='imageUrl'\r\n                onClick={onClick()}\r\n              />\r\n              {errors.imageUrl && errors.imageUrl.type === 'required' && (\r\n                <p className='admin_error'>Required!</p>\r\n              )}\r\n              {errors.imageUrl && errors.imageUrl.type === 'minLength' && (\r\n                <p className='admin_error'>Minimum length: 5.</p>\r\n              )}\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant='outlined'\r\n                required\r\n                inputRef={register({ required: true, minLength: 1 })}\r\n                fullWidth\r\n                name='price'\r\n                label='Price'\r\n                type='number'\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position='start'>$</InputAdornment>\r\n                  ),\r\n                }}\r\n                step='1'\r\n                id='price'\r\n                autoComplete='price'\r\n                onClick={onClick()}\r\n              />\r\n              {errors.price && errors.price.type === 'required' && (\r\n                <p className='admin_error'>Required!</p>\r\n              )}\r\n              {errors.price && errors.price.type === 'minLength' && (\r\n                <p className='admin_error'>Minimum length: 5.</p>\r\n              )}\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant='outlined'\r\n                required\r\n                inputRef={register({ required: true, minLength: 5 })}\r\n                fullWidth\r\n                name='description'\r\n                label='Description'\r\n                type='description'\r\n                id='description'\r\n                autoComplete='description'\r\n                onClick={onClick()}\r\n              />\r\n              {errors.description && errors.description.type === 'required' && (\r\n                <p className='admin_error'>Required!</p>\r\n              )}\r\n              {errors.description &&\r\n                errors.description.type === 'minLength' && (\r\n                  <p className='admin_error'>Minimum length: 5.</p>\r\n                )}\r\n            </Grid>\r\n          </Grid>\r\n          <Grid item xs={12}></Grid>\r\n          <TextField\r\n            inputRef={register({ required: true })}\r\n            id='hotelId'\r\n            name='hotelId'\r\n            value={hotelId}\r\n            type='hidden'\r\n          />\r\n          <Button\r\n            type='submit'\r\n            fullWidth\r\n            variant='contained'\r\n            color='primary'\r\n            className={classes.submit}\r\n          >\r\n            SUBMIT\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","D:\\Web\\hotel booking\\client\\src\\SearchResult.js",["91"],"import React, { useState, useEffect } from 'react';\r\nimport './SearchResult.css';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport SearchCard from './SearchCard';\r\nimport axios from 'axios';\r\naxios.defaults.withCredentials = true;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(3),\r\n    margin: 'auto',\r\n    maxWidth: 750,\r\n  },\r\n  image: {\r\n    width: 350,\r\n    height: 200,\r\n  },\r\n  img: {\r\n    margin: 'auto',\r\n    display: 'block',\r\n    maxWidth: '100%',\r\n    maxHeight: '100%',\r\n  },\r\n}));\r\n\r\nfunction SearchResult({ hotel }) {\r\n  const [serverErrors, setServerErrors] = useState('');\r\n  const [adminAuth, setAdminAuth] = useState(false);\r\n  const classes = useStyles();\r\n\r\n  const checkAuth = async () => {\r\n    try {\r\n      const response = await axios(\r\n        'https://hotel-booking-webapp.herokuapp.com/auth/check-user',\r\n        {\r\n          headers: { 'content-type': 'application/json' },\r\n          method: 'GET',\r\n        }\r\n      );\r\n\r\n      if (response.data.adminAuth) {\r\n        setAdminAuth(true);\r\n      }\r\n    } catch (error) {\r\n      if (error.response) {\r\n        console.log(error.response.data);\r\n        setServerErrors(error.response.data.message);\r\n        setAdminAuth(false);\r\n      } else {\r\n        console.log('Error', error.message);\r\n      }\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    checkAuth();\r\n    const interval = setInterval(() => {\r\n      checkAuth();\r\n    }, 7200000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container spacing={4}>\r\n        <Grid item xs={12}>\r\n          <Paper className={classes.paper}>\r\n            <SearchCard hotel={hotel} adminAuth={adminAuth} />\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchResult;\r\n","D:\\Web\\hotel booking\\client\\src\\Card.js",["92"],"import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    maxWidth: 295,\r\n  },\r\n  media: {\r\n    height: 170,\r\n  },\r\n});\r\n\r\nexport default function MediaCard({ src, title, description, price }) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea>\r\n        <CardMedia className={classes.media} image={src} title={title} />\r\n        <CardContent>\r\n          <Typography gutterBottom variant='h6' component='h6'>\r\n            {description}\r\n          </Typography>\r\n          <Typography variant='h6' color='textSecondary' component='p'>\r\n            {price}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n    </Card>\r\n  );\r\n}\r\n","D:\\Web\\hotel booking\\client\\src\\Banner.js",[],"D:\\Web\\hotel booking\\client\\src\\SearchDate.js",[],"D:\\Web\\hotel booking\\client\\src\\SearchCard.js",["93","94"],"import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport SearchDate from './SearchDate';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport axios from 'axios';\r\naxios.defaults.withCredentials = true;\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    maxWidth: 350,\r\n  },\r\n  media: {\r\n    height: 170,\r\n  },\r\n});\r\n\r\nexport default function SearchCard({ hotel, adminAuth }) {\r\n  const { imageUrl, title, price, location, description } = hotel;\r\n  const [showSearch, setShowSearch] = useState(false);\r\n  const navigate = useNavigate();\r\n  const classes = useStyles();\r\n\r\n  String.prototype.capitalize = function () {\r\n    return this.charAt(0).toUpperCase() + this.slice(1);\r\n  };\r\n\r\n  const upperLocation = location.capitalize();\r\n\r\n  const onClick = () => {\r\n    navigate(`/admin/edit/${hotel._id}`);\r\n  };\r\n\r\n  const onDelete = async () => {\r\n    try {\r\n      await axios(\r\n        `https://hotel-booking-webapp.herokuapp.com/admin/delete/${hotel._id}`,\r\n        {\r\n          headers: { 'content-type': 'application/json' },\r\n          method: 'DELETE',\r\n        }\r\n      );\r\n      navigate('/', { replace: true });\r\n    } catch (error) {\r\n      if (error.response) {\r\n        console.log(error.response.data.message);\r\n      } else {\r\n        console.log('Error', error.message);\r\n      }\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea component='span'>\r\n        <CardMedia className={classes.media} image={imageUrl} title={title} />\r\n        <CardContent>\r\n          <Typography\r\n            color='textSecondary'\r\n            gutterBottom\r\n            variant='subtitle1'\r\n            component='p'\r\n          >\r\n            {upperLocation}\r\n          </Typography>\r\n          <Typography gutterBottom variant='h6' component='h6'>\r\n            {title}\r\n          </Typography>\r\n          <Typography gutterBottom variant='subtitle1' component='p'>\r\n            {description}\r\n          </Typography>\r\n          <Typography variant='h6' color='textSecondary' component='p'>\r\n            ${price}\r\n          </Typography>\r\n          {showSearch && <SearchDate hotelId={hotel._id} />}\r\n          <Button\r\n            onClick={() => setShowSearch(!showSearch)}\r\n            variant='outlined'\r\n            size='small'\r\n          >\r\n            {showSearch ? 'Hide' : 'Search Dates'}\r\n          </Button>\r\n          {adminAuth ? (\r\n            <Button\r\n              style={{ marginLeft: '10px' }}\r\n              onClick={onClick}\r\n              size='small'\r\n              variant='outlined'\r\n            >\r\n              Edit\r\n            </Button>\r\n          ) : null}\r\n          {adminAuth ? (\r\n            <Button\r\n              style={{ marginLeft: '10px' }}\r\n              onClick={onDelete}\r\n              size='small'\r\n              variant='outlined'\r\n            >\r\n              Delete\r\n            </Button>\r\n          ) : null}\r\n        </CardContent>\r\n      </CardActionArea>\r\n    </Card>\r\n  );\r\n}\r\n","D:\\Web\\hotel booking\\client\\src\\Orders.js",["95","96"],"import React, { useState, useEffect } from 'react';\r\nimport { Button } from '@material-ui/core';\r\nimport { DateTime } from 'luxon';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\naxios.defaults.withCredentials = true;\r\n\r\nfunction Orders() {\r\n  const [serverErrors, setServerErrors] = useState('');\r\n  const [orders, setOrders] = useState([]);\r\n  const [user, setUser] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const getOrder = async () => {\r\n    try {\r\n      const response = await axios(\r\n        'https://hotel-booking-webapp.herokuapp.com/get-orders',\r\n        {\r\n          headers: { 'content-type': 'application/json' },\r\n          method: 'GET',\r\n        }\r\n      );\r\n\r\n      const { userOrders } = response.data;\r\n\r\n      setOrders(userOrders);\r\n      setUser(userOrders[0].user);\r\n    } catch (error) {\r\n      if (error.response) {\r\n        setServerErrors(error.response.data.message);\r\n      } else {\r\n        console.log('Error', error.message);\r\n      }\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    getOrder();\r\n  }, []);\r\n\r\n  const onDelete = async (id) => {\r\n    console.log(id);\r\n    try {\r\n      const response = await axios(\r\n        `https://hotel-booking-webapp.herokuapp.com/orders/delete/${id}`,\r\n        {\r\n          headers: { 'content-type': 'application/json' },\r\n          method: 'DELETE',\r\n        }\r\n      );\r\n\r\n      if (response.status === 200) {\r\n        window.location.reload();\r\n        navigate('/orders');\r\n      }\r\n    } catch (error) {\r\n      if (error.response) {\r\n        console.log(error.response.data.message);\r\n      } else {\r\n        console.log('Error', error.message);\r\n      }\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='searchPage'>\r\n      <div className='searchPage__info'>\r\n        {serverErrors ? <h1>{serverErrors}</h1> : null}\r\n        {serverErrors ? null : <h1>Thank you {user} for booking!</h1>}\r\n        <ul>\r\n          {orders.map((order) => {\r\n            return order.reservations.map((reservation) => {\r\n              return [\r\n                <li>\r\n                  <h3>Order # : {reservation._id}</h3>\r\n                </li>,\r\n                <li>\r\n                  <h3>Hotel: {reservation.title}</h3>\r\n                </li>,\r\n                <li>\r\n                  <h3>\r\n                    Stay from {''}\r\n                    {DateTime.fromISO(\r\n                      reservation.start\r\n                    ).toLocaleString()} to{' '}\r\n                    {DateTime.fromISO(reservation.end).toLocaleString()}\r\n                  </h3>\r\n                </li>,\r\n                <li>\r\n                  <h3>Nights: {reservation.nights}</h3>\r\n                </li>,\r\n                <li>\r\n                  <h3>Price: {reservation.price}</h3>\r\n                </li>,\r\n                <li>\r\n                  <h3>Total: ${reservation.total}</h3>\r\n                </li>,\r\n                <Button\r\n                  style={{ marginLeft: '10px' }}\r\n                  onClick={() => onDelete(reservation._id)}\r\n                  size='small'\r\n                  variant='outlined'\r\n                  style={{ display: 'flex', marginTop: '10px' }}\r\n                >\r\n                  Delete\r\n                </Button>,\r\n                <br></br>,\r\n                <br></br>,\r\n              ];\r\n            });\r\n          })}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Orders;\r\n",{"ruleId":"97","replacedBy":"98"},{"ruleId":"99","replacedBy":"100"},{"ruleId":"101","severity":1,"message":"102","line":1,"column":17,"nodeType":"103","messageId":"104","endLine":1,"endColumn":25},{"ruleId":"105","severity":1,"message":"106","line":38,"column":6,"nodeType":"107","endLine":38,"endColumn":8,"suggestions":"108"},{"ruleId":"101","severity":1,"message":"109","line":98,"column":10,"nodeType":"103","messageId":"104","endLine":98,"endColumn":22},{"ruleId":"105","severity":1,"message":"110","line":36,"column":6,"nodeType":"107","endLine":36,"endColumn":8,"suggestions":"111"},{"ruleId":"105","severity":1,"message":"112","line":73,"column":6,"nodeType":"107","endLine":73,"endColumn":8,"suggestions":"113"},{"ruleId":"101","severity":1,"message":"109","line":32,"column":10,"nodeType":"103","messageId":"104","endLine":32,"endColumn":22},{"ruleId":"101","severity":1,"message":"114","line":5,"column":8,"nodeType":"103","messageId":"104","endLine":5,"endColumn":19},{"ruleId":"101","severity":1,"message":"114","line":6,"column":8,"nodeType":"103","messageId":"104","endLine":6,"endColumn":19},{"ruleId":"115","severity":1,"message":"116","line":31,"column":3,"nodeType":"117","messageId":"118","endLine":33,"endColumn":4},{"ruleId":"101","severity":1,"message":"119","line":1,"column":27,"nodeType":"103","messageId":"104","endLine":1,"endColumn":36},{"ruleId":"120","severity":1,"message":"121","line":105,"column":19,"nodeType":"122","endLine":105,"endColumn":65},"no-native-reassign",["123"],"no-negated-in-lhs",["124"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'searchNear'. Either include it or remove the dependency array.","ArrayExpression",["125"],"'serverErrors' is assigned a value but never used.","React Hook React.useEffect has a missing dependency: 'searchAll'. Either include it or remove the dependency array.",["126"],"React Hook useEffect has a missing dependency: 'hotelId'. Either include it or remove the dependency array.",["127"],"'CardActions' is defined but never used.","no-extend-native","String prototype is read only, properties should not be added.","AssignmentExpression","unexpected","'useEffect' is defined but never used.","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","no-global-assign","no-unsafe-negation",{"desc":"128","fix":"129"},{"desc":"130","fix":"131"},{"desc":"132","fix":"133"},"Update the dependencies array to be: [searchNear]",{"range":"134","text":"135"},"Update the dependencies array to be: [searchAll]",{"range":"136","text":"137"},"Update the dependencies array to be: [hotelId]",{"range":"138","text":"139"},[1074,1076],"[searchNear]",[974,976],"[searchAll]",[2430,2432],"[hotelId]"]